<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
    <title>QuakeSafe PRO</title>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Internal:wght@400;700&family=Saira+Stencil+One&display=swap"
        rel="stylesheet">

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Capacitor -->
    <script src="capacitor.js"></script>
    <!-- Will be injected by native bridge if needed, but safe to omit in some setups. Here we rely on bundler, but for raw html we just wait for deviceready if needed. -->

    <!-- App Styles -->
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <!-- HUD HEADER -->
    <header class="glass-panel">
        <div class="brand">PRO <span style="color:white">SAFE</span></div>
        <div class="status-bar">
            <div class="status-item"><i data-lucide="crosshair" width="14"></i> <span id="gps-status">GPS</span></div>
            <div class="status-item"><i data-lucide="battery" width="14"></i> <span id="battery-status">100%</span>
            </div>
        </div>
    </header>

    <!-- CONTENT WRAPPER -->
    <main>

        <!-- === 1. HOME / PANIC VIEW === -->
        <div id="view-home" class="page-view animate-fade">

            <div class="panic-container" onmousedown="App.startSOSHold()" onmouseup="App.endSOSHold()"
                onmouseleave="App.endSOSHold()" ontouchstart="App.startSOSHold();" ontouchend="App.endSOSHold();">
                <div class="pulse-ring"></div>
                <div class="panic-btn">
                    <i data-lucide="power" class="panic-icon"></i>
                    <span class="panic-text">SOS</span>
                </div>
            </div>

            <div class="text-center mt-4 text-gray-500 text-sm italic">Basılı Tut: Acil Yayın Başlat</div>

            <div class="quick-actions">
                <button class="action-btn" onclick="TacticalTools.toggleFlash()">
                    <i data-lucide="flashlight"></i> Fener
                </button>
                <button class="action-btn" onclick="TacticalTools.toggleWhistle()">
                    <i data-lucide="volume-2"></i> Düdük
                </button>
                <button class="action-btn" onclick="App.shareLocation()">
                    <i data-lucide="map-pin"></i> Konum
                </button>
            </div>
        </div>

        <!-- === 2. TACTICAL TOOLS VIEW === -->
        <div id="view-tools" class="page-view hidden">
            <h2 class="text-xl font-bold p-5 neon-text uppercase">Taktik Araç Kiti</h2>
            <div class="tools-grid">
                <!-- Strobe -->
                <button class="tool-card" onclick="TacticalTools.startStrobe()">
                    <i data-lucide="zap" class="tool-icon"></i>
                    <span class="tool-title">Çakar Fener</span>
                    <span class="text-xs text-gray-500">Yüksek Hızda Kör Etme</span>
                </button>

                <!-- Police Light -->
                <button class="tool-card" onclick="TacticalTools.openPoliceMode()">
                    <i data-lucide="siren" class="tool-icon"></i>
                    <span class="tool-title">Polis Çakarı</span>
                    <span class="text-xs text-gray-500">Kırmızı/Mavi Ekran</span>
                </button>

                <!-- Whistle -->
                <button class="tool-card" onclick="TacticalTools.toggleWhistle()">
                    <i data-lucide="mic" class="tool-icon"></i>
                    <span class="tool-title">Köpek Düdüğü</span>
                    <span class="text-xs text-gray-500">20,000Hz Ultrasonik</span>
                </button>

                <!-- Mirror -->
                <button class="tool-card" onclick="TacticalTools.openMirror()">
                    <i data-lucide="scan-face" class="tool-icon"></i>
                    <span class="tool-title">Ayna / Sinyal</span>
                    <span class="text-xs text-gray-500">Ön Kamera Yansıtma</span>
                </button>
            </div>
        </div>

        <!-- === 3. INFO VIEW === -->
        <div id="view-info" class="page-view hidden">
            <h2 class="text-xl font-bold p-5 neon-text uppercase">Afet Rehberi</h2>
            <div id="info-content" class="p-5 pb-24">
                <!-- Dynamic Content Loaded Here -->
            </div>
        </div>

        <!-- === 4. PROFILE VIEW === -->
        <div id="view-profile" class="page-view hidden">
            <h2 class="text-xl font-bold p-5 neon-text uppercase">Dijital Kimlik</h2>
            <div class="flex-center flex-col mt-10">
                <div id="qrcode-container" class="bg-white p-4 rounded-xl"></div>
                <p class="mt-4 text-sm text-gray-400">Kurtarma ekiplerine gösterin</p>
            </div>
        </div>

    </main>

    <!-- FULLSCREEN OVERLAYS (For Police Mode, Mirror etc) -->
    <div id="overlay-police" class="full-screen hidden police-mode" onclick="this.classList.add('hidden')"></div>

    <!-- BOTTOM NAVIGATION -->
    <nav class="bottom-nav">
        <button class="nav-item active" onclick="Navigation.to('home', this)">
            <i data-lucide="activity"></i>
            <span>ACİL</span>
        </button>
        <button class="nav-item" onclick="Navigation.to('tools', this)">
            <i data-lucide="briefcase"></i>
            <span>ARAÇLAR</span>
        </button>
        <button class="nav-item" onclick="Navigation.to('info', this)">
            <i data-lucide="book-open"></i>
            <span>BİLGİ</span>
        </button>
        <button class="nav-item" onclick="Navigation.to('profile', this)">
            <i data-lucide="user"></i>
            <span>KİMLİK</span>
        </button>
    </nav>

    <!-- SCRIPTS -->
    <script src="app.js"></script>
    <script>
        lucide.createIcons();
    </script>
</body>

</html>